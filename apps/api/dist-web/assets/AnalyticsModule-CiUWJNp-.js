import{r as c,u as A,j as e,R as j,c as f,m as o,a as N,T as M,d as S,U as _,D as $}from"./index-LH0WbASD.js";function C(){const[t,v]=c.useState(null),[w,R]=c.useState([]),[d,m]=c.useState(!0),[x,g]=c.useState(null),{isConnected:h}=A(),i=async()=>{m(!0),g(null);try{const s=await fetch("/api/metrics");if(!s.ok)throw new Error("Failed to fetch metrics");const a=await s.json(),n=await fetch("/api/empire-status"),l=n.ok?await n.json():null,r={totalRequests:a.total_requests||0,activeAgents:a.active_sessions||0,totalMessages:a.total_messages||0,uptime:a.uptime_seconds||0,errorRate:(a.total_errors||0)/Math.max(a.total_requests||1,1)*100,systemHealth:a.ok?"excellent":"degraded"},b=[{id:"agent_performance",title:"Agent Performance",value:r.activeAgents,change:u(r.activeAgents,"agents"),trend:r.activeAgents>0?"up":"neutral",category:"operations"},{id:"system_reliability",title:"System Reliability",value:`${(100-r.errorRate).toFixed(1)}%`,change:-r.errorRate,trend:r.errorRate<1?"up":r.errorRate>5?"down":"neutral",category:"performance"},{id:"message_throughput",title:"Message Throughput",value:r.totalMessages,change:u(r.totalMessages,"messages"),trend:r.totalMessages>0?"up":"neutral",category:"business"},{id:"uptime",title:"System Uptime",value:p(r.uptime),change:r.uptime,trend:"up",category:"performance"}];l!=null&&l.empire_health&&b.push({id:"empire_readiness",title:"Empire Readiness Score",value:`${l.empire_health.empire_readiness_score||0}%`,change:5.2,trend:"up",category:"business"}),v(r),R(b)}catch(s){console.error("Failed to fetch analytics:",s),g(s instanceof Error?s.message:"Unknown error")}finally{m(!1)}},u=(s,a)=>({agents:12.5,messages:8.3,requests:15.7})[a]||0,p=s=>{const a=Math.floor(s/86400),n=Math.floor(s%86400/3600),l=Math.floor(s%3600/60);return a>0?`${a}d ${n}h`:n>0?`${n}h ${l}m`:`${l}m`},y=s=>{switch(s){case"performance":return"text-green-400";case"business":return"text-cyan-400";case"operations":return"text-purple-400";case"security":return"text-red-400";default:return"text-gray-400"}},k=s=>{switch(s){case"performance":return N;case"business":return $;case"operations":return _;case"security":return f;default:return S}};return c.useEffect(()=>{i();const s=setInterval(i,3e4);return()=>clearInterval(s)},[]),d&&!t?e.jsx("div",{className:"min-h-screen bg-black text-white p-6 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(j,{className:"w-8 h-8 text-cyan-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-cyan-400",children:"Loading Analytics Engine..."})]})}):x?e.jsx("div",{className:"min-h-screen bg-black text-white p-6 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(f,{className:"w-8 h-8 text-red-400 mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-red-400 mb-4",children:"Failed to load analytics data"}),e.jsx("p",{className:"text-gray-400 mb-4",children:x}),e.jsx("button",{onClick:i,className:"px-4 py-2 bg-cyan-600/20 border border-cyan-500/30 text-cyan-300 rounded-lg hover:bg-cyan-600/30",children:"Retry"})]})}):e.jsxs("div",{className:"min-h-screen bg-black text-white p-6",children:[e.jsx(o.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent",children:"Analytics Engine"}),e.jsx("p",{className:"text-lg text-gray-400",children:"Real-time business intelligence and performance analytics"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-900/40 rounded-lg border border-gray-700/30",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${h?"bg-green-400":"bg-red-400"} animate-pulse`}),e.jsx("span",{className:"text-sm font-mono",children:h?"LIVE DATA":"OFFLINE"})]}),e.jsx("button",{onClick:i,disabled:d,className:"p-2 text-gray-400 hover:text-cyan-400 rounded-lg hover:bg-gray-800/60 disabled:opacity-50",children:e.jsx(j,{className:`w-5 h-5 ${d?"animate-spin":""}`})})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:w.map((s,a)=>{const n=k(s.category);return e.jsxs(o.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:a*.1},className:"bg-gray-900/40 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/30 hover:border-cyan-400/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-black/40",children:e.jsx(n,{className:`w-6 h-6 ${y(s.category)}`})}),e.jsxs("div",{className:`text-sm font-mono ${s.trend==="up"?"text-green-400":s.trend==="down"?"text-red-400":"text-gray-400"}`,children:[s.change>0?"+":"",s.change.toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:s.value}),e.jsx("p",{className:"text-sm text-gray-400",children:s.title}),e.jsx("span",{className:`text-xs ${y(s.category)} uppercase font-semibold`,children:s.category})]})]},s.id)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(o.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-gray-900/40 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/30",children:[e.jsxs("h2",{className:"text-xl font-bold text-cyan-400 mb-6 flex items-center",children:[e.jsx(N,{className:"w-5 h-5 mr-2"}),"System Performance"]}),t&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/40 rounded-lg border border-gray-700/50",children:[e.jsx("span",{className:"text-gray-300",children:"Total Requests"}),e.jsx("span",{className:"text-white font-mono",children:t.totalRequests.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/40 rounded-lg border border-gray-700/50",children:[e.jsx("span",{className:"text-gray-300",children:"Active Agent Sessions"}),e.jsx("span",{className:"text-green-400 font-mono",children:t.activeAgents})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/40 rounded-lg border border-gray-700/50",children:[e.jsx("span",{className:"text-gray-300",children:"System Uptime"}),e.jsx("span",{className:"text-blue-400 font-mono",children:p(t.uptime)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/40 rounded-lg border border-gray-700/50",children:[e.jsx("span",{className:"text-gray-300",children:"Error Rate"}),e.jsxs("span",{className:`font-mono ${t.errorRate<1?"text-green-400":t.errorRate>5?"text-red-400":"text-yellow-400"}`,children:[t.errorRate.toFixed(2),"%"]})]})]})]}),e.jsxs(o.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-gray-900/40 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/30",children:[e.jsxs("h2",{className:"text-xl font-bold text-cyan-400 mb-6 flex items-center",children:[e.jsx(M,{className:"w-5 h-5 mr-2"}),"Business Intelligence"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-black/40 rounded-lg border border-gray-700/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Message Processing"}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Total Messages Processed"}),e.jsx("span",{className:"text-cyan-400 font-mono",children:(t==null?void 0:t.totalMessages)||0})]})]}),e.jsxs("div",{className:"p-4 bg-black/40 rounded-lg border border-gray-700/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"System Health Status"}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Overall Health"}),e.jsx("span",{className:`font-mono capitalize ${(t==null?void 0:t.systemHealth)==="excellent"?"text-green-400":(t==null?void 0:t.systemHealth)==="good"?"text-cyan-400":(t==null?void 0:t.systemHealth)==="degraded"?"text-yellow-400":"text-red-400"}`,children:(t==null?void 0:t.systemHealth)||"Unknown"})]})]}),e.jsxs("div",{className:"p-4 bg-black/40 rounded-lg border border-gray-700/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Operational Insights"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("span",{className:"text-gray-300",children:"Agent orchestration active"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full"}),e.jsx("span",{className:"text-gray-300",children:"Real-time monitoring enabled"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),e.jsx("span",{className:"text-gray-300",children:"Performance optimization active"})]})]})]})]})]})]})]})}export{C as default};
//# sourceMappingURL=AnalyticsModule-CiUWJNp-.js.map
