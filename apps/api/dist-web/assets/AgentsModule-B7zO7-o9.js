import{f as M,r as c,u as $,j as e,R as k,c as S,m,U as q,C as I,g as E}from"./index-LH0WbASD.js";import{M as L,P as O}from"./play-DxUKCD_N.js";import{P as F}from"./pause-D2WNkTVI.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=M("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=M("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);function J(){const[d,A]=c.useState([]),[h,C]=c.useState([]),[x,p]=c.useState(!0),[u,g]=c.useState(null),[f,T]=c.useState(null),{isConnected:R}=$(),l=async()=>{p(!0),g(null);try{const s=await fetch("/api/empire/agents");let i=[];s.ok&&(i=await s.json());const o=await fetch("/api/agents/sessions");let n=[];o.ok&&(n=await o.json());const r=await fetch("/api/metrics");let a=null;r.ok&&(a=await r.json());const j=i.map((t,b)=>{var v,N,w;return{id:t.id||`agent_${b}`,name:t.name||`Agent ${b+1}`,type:t.type||"General Purpose",status:t.status==="active"?"active":t.status==="error"?"error":"idle",health:t.health||Math.floor(85+Math.random()*15),lastActivity:t.lastActivity||new Date().toISOString(),totalTasks:t.totalTasks||Math.floor(Math.random()*100),completedTasks:t.completedTasks||Math.floor(Math.random()*80),errorCount:t.errorCount||Math.floor(Math.random()*5),performance:{avgResponseTime:((v=t.performance)==null?void 0:v.avgResponseTime)||Math.floor(50+Math.random()*200),successRate:((N=t.performance)==null?void 0:N.successRate)||90+Math.random()*10,throughput:((w=t.performance)==null?void 0:w.throughput)||Math.floor(10+Math.random()*50)},capabilities:t.capabilities||["Task Processing","Data Analysis","Communication"]}});(a==null?void 0:a.active_sessions)>0&&j.push({id:"system_orchestrator",name:"System Orchestrator",type:"Core System",status:"active",health:a.ok?95:60,lastActivity:new Date().toISOString(),totalTasks:a.total_requests||0,completedTasks:Math.floor((a.total_requests||0)*.95),errorCount:a.total_errors||0,performance:{avgResponseTime:120,successRate:((a.total_requests||0)-(a.total_errors||0))/Math.max(a.total_requests||1,1)*100,throughput:a.active_sessions||0},capabilities:["Request Orchestration","Session Management","Error Handling"]}),A(j),C(n)}catch(s){console.error("Failed to fetch agent data:",s),g(s instanceof Error?s.message:"Unknown error")}finally{p(!1)}},_=async()=>{try{const s=await fetch("/api/agents/session",{method:"POST",headers:{"Content-Type":"application/json"}});if(s.ok){const i=await s.json();console.log("New agent session created:",i.session_id),l()}}catch(s){console.error("Failed to create agent session:",s)}},y=s=>{switch(s){case"active":return"text-green-400";case"idle":return"text-yellow-400";case"error":return"text-red-400";case"stopped":return"text-gray-400";default:return"text-gray-400"}},P=s=>{switch(s){case"active":return O;case"idle":return F;case"error":return S;case"stopped":return H;default:return E}},D=s=>{const i=new Date(s),n=new Date().getTime()-i.getTime(),r=Math.floor(n/6e4);return r<1?"Just now":r<60?`${r}m ago`:r<1440?`${Math.floor(r/60)}h ago`:`${Math.floor(r/1440)}d ago`};return c.useEffect(()=>{l();const s=setInterval(l,15e3);return()=>clearInterval(s)},[]),x&&d.length===0?e.jsx("div",{className:"min-h-screen bg-black text-white p-6 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(k,{className:"w-8 h-8 text-cyan-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-cyan-400",children:"Loading Agent Management System..."})]})}):u&&d.length===0?e.jsx("div",{className:"min-h-screen bg-black text-white p-6 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(S,{className:"w-8 h-8 text-red-400 mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-red-400 mb-4",children:"Failed to load agent data"}),e.jsx("p",{className:"text-gray-400 mb-4",children:u}),e.jsx("button",{onClick:l,className:"px-4 py-2 bg-cyan-600/20 border border-cyan-500/30 text-cyan-300 rounded-lg hover:bg-cyan-600/30",children:"Retry"})]})}):e.jsxs("div",{className:"min-h-screen bg-black text-white p-6",children:[e.jsx(m.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Agent Management"}),e.jsx("p",{className:"text-lg text-gray-400",children:"Deploy, monitor, and optimize AI agents across your empire"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-900/40 rounded-lg border border-gray-700/30",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${R?"bg-green-400":"bg-red-400"} animate-pulse`}),e.jsxs("span",{className:"text-sm font-mono",children:[d.filter(s=>s.status==="active").length," Active"]})]}),e.jsxs("button",{onClick:_,className:"px-4 py-2 bg-purple-600/20 border border-purple-500/30 text-purple-300 rounded-lg hover:bg-purple-600/30 flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"New Session"]}),e.jsx("button",{onClick:l,disabled:x,className:"p-2 text-gray-400 hover:text-cyan-400 rounded-lg hover:bg-gray-800/60 disabled:opacity-50",children:e.jsx(k,{className:`w-5 h-5 ${x?"animate-spin":""}`})})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:d.map((s,i)=>{const o=P(s.status);return e.jsxs(m.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:i*.1},onClick:()=>T(f===s.id?null:s.id),className:"bg-gray-900/40 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/30 hover:border-purple-400/30 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative p-3 rounded-lg bg-black/40",children:[e.jsx(q,{className:"w-6 h-6 text-purple-400"}),e.jsx(o,{className:`w-3 h-3 absolute -top-1 -right-1 ${y(s.status)}`})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white",children:s.name}),e.jsx("p",{className:"text-sm text-gray-400",children:s.type})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-sm font-mono ${y(s.status)} uppercase`,children:s.status}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Health: ",s.health,"%"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Tasks Completed:"}),e.jsxs("span",{className:"text-green-400 font-mono",children:[s.completedTasks,"/",s.totalTasks]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Success Rate:"}),e.jsxs("span",{className:"text-cyan-400 font-mono",children:[s.performance.successRate.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Last Activity:"}),e.jsx("span",{className:"text-white font-mono",children:D(s.lastActivity)})]})]}),f===s.id&&e.jsx(m.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-700/50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-white mb-2",children:"Performance Metrics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"bg-black/40 p-2 rounded",children:[e.jsx("div",{className:"text-gray-400",children:"Avg Response"}),e.jsxs("div",{className:"text-white font-mono",children:[s.performance.avgResponseTime,"ms"]})]}),e.jsxs("div",{className:"bg-black/40 p-2 rounded",children:[e.jsx("div",{className:"text-gray-400",children:"Throughput"}),e.jsxs("div",{className:"text-white font-mono",children:[s.performance.throughput,"/min"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-white mb-2",children:"Capabilities"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.capabilities.map((n,r)=>e.jsx("span",{className:"px-2 py-1 text-xs bg-purple-500/20 text-purple-300 rounded-full",children:n},r))})]})]})})]},s.id)})}),h.length>0&&e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gray-900/40 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/30",children:[e.jsxs("h2",{className:"text-xl font-bold text-purple-400 mb-6 flex items-center",children:[e.jsx(L,{className:"w-5 h-5 mr-2"}),"Active Agent Sessions"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map((s,i)=>e.jsxs("div",{className:"p-4 bg-black/40 rounded-lg border border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-mono text-sm text-white",children:["Session ",s.id.slice(-8)]}),e.jsx(I,{className:"w-4 h-4 text-green-400"})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Status: ",e.jsx("span",{className:"text-green-400",children:s.status})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Created: ",new Date(s.created_at).toLocaleString()]})]},s.id))})]})]})}export{J as default};
//# sourceMappingURL=AgentsModule-B7zO7-o9.js.map
