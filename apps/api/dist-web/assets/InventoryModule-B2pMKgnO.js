import{f as G,r as c,u as K,j as e,R as P,m as o,P as y,C as u,D as Q,T as B,i as J}from"./index-LH0WbASD.js";import{T as i}from"./triangle-alert-CL_6n6d2.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=G("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);function ee(){const[s,D]=c.useState([]),[M,$]=c.useState([]),[m,p]=c.useState(!0),[v,b]=c.useState(null),[h,q]=c.useState("all"),{isConnected:R}=K(),d=async()=>{p(!0),b(null);try{const t=await fetch("/api/shopify/products");let l=[];t.ok&&(l=(await t.json()).products||[]);const f=await fetch("/api/empire-status");let F=null;f.ok&&(F=await f.json());const U=l.map(r=>{var w,k,S,_,I,T,O,C;const n=((w=r.variants)==null?void 0:w.reduce((z,H)=>z+(H.inventory_quantity||0),0))||0,g=((S=(k=r.variants)==null?void 0:k[0])==null?void 0:S.price)||0,X=((I=(_=r.variants)==null?void 0:_[0])==null?void 0:I.compare_at_price)||g;let x="in_stock";const N=10;return n===0?x="out_of_stock":n<=N?x="low_stock":n>100&&(x="overstocked"),{id:((T=r.id)==null?void 0:T.toString())||`product_${Math.random()}`,name:r.title||"Unknown Product",sku:((C=(O=r.variants)==null?void 0:O[0])==null?void 0:C.sku)||"NO-SKU",quantity:n,reserved:Math.floor(n*.1),available:Math.floor(n*.9),reorderPoint:N,status:x,supplier:"Primary Supplier",costPrice:parseFloat(g)*.7,sellPrice:parseFloat(g),category:r.product_type||r.vendor||"General",lastUpdated:r.updated_at||new Date().toISOString(),velocity:Math.floor(Math.random()*10)+1,turnoverRate:Math.random()*5+.5}}),V=[{id:"supplier_1",name:"Primary Electronics Supplier",deliveryTime:7,reliability:95.2,qualityScore:4.8,totalOrders:156,onTimeDeliveries:148},{id:"supplier_2",name:"Fashion & Accessories Co",deliveryTime:12,reliability:89.5,qualityScore:4.5,totalOrders:89,onTimeDeliveries:80},{id:"supplier_3",name:"Home & Garden Supply",deliveryTime:5,reliability:98.1,qualityScore:4.9,totalOrders:203,onTimeDeliveries:199}];D(U),$(V)}catch(t){console.error("Failed to fetch inventory data:",t),b(t instanceof Error?t.message:"Unknown error")}finally{p(!1)}},j=t=>{switch(t){case"in_stock":return"text-green-400";case"low_stock":return"text-yellow-400";case"out_of_stock":return"text-red-400";case"overstocked":return"text-purple-400";default:return"text-gray-400"}},A=t=>{switch(t){case"in_stock":return u;case"low_stock":return i;case"out_of_stock":return i;case"overstocked":return J;default:return y}},L=h==="all"?s:s.filter(t=>t.category.toLowerCase().includes(h.toLowerCase())),E=["all",...Array.from(new Set(s.map(t=>t.category)))],a={totalItems:s.length,inStock:s.filter(t=>t.status==="in_stock").length,lowStock:s.filter(t=>t.status==="low_stock").length,outOfStock:s.filter(t=>t.status==="out_of_stock").length,totalValue:s.reduce((t,l)=>t+l.quantity*l.sellPrice,0)};return c.useEffect(()=>{d();const t=setInterval(d,6e4);return()=>clearInterval(t)},[]),m&&s.length===0?e.jsx("div",{className:"min-h-screen bg-black text-white p-6 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(P,{className:"w-8 h-8 text-cyan-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-cyan-400",children:"Loading Inventory Management System..."})]})}):v&&s.length===0?e.jsx("div",{className:"min-h-screen bg-black text-white p-6 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(i,{className:"w-8 h-8 text-red-400 mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-red-400 mb-4",children:"Failed to load inventory data"}),e.jsx("p",{className:"text-gray-400 mb-4",children:v}),e.jsx("button",{onClick:d,className:"px-4 py-2 bg-cyan-600/20 border border-cyan-500/30 text-cyan-300 rounded-lg hover:bg-cyan-600/30",children:"Retry"})]})}):e.jsxs("div",{className:"min-h-screen bg-black text-white p-6",children:[e.jsx(o.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-orange-400 to-red-400 bg-clip-text text-transparent",children:"Inventory Management"}),e.jsx("p",{className:"text-lg text-gray-400",children:"Real-time stock monitoring and supply chain optimization"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-900/40 rounded-lg border border-gray-700/30",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${R?"bg-green-400":"bg-red-400"} animate-pulse`}),e.jsxs("span",{className:"text-sm font-mono",children:[a.totalItems," Items"]})]}),e.jsx("button",{onClick:d,disabled:m,className:"p-2 text-gray-400 hover:text-cyan-400 rounded-lg hover:bg-gray-800/60 disabled:opacity-50",children:e.jsx(P,{className:`w-5 h-5 ${m?"animate-spin":""}`})})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[{label:"Total Items",value:a.totalItems,color:"text-white",icon:y},{label:"In Stock",value:a.inStock,color:"text-green-400",icon:u},{label:"Low Stock",value:a.lowStock,color:"text-yellow-400",icon:i},{label:"Out of Stock",value:a.outOfStock,color:"text-red-400",icon:i},{label:"Total Value",value:`$${a.totalValue.toLocaleString()}`,color:"text-cyan-400",icon:Q}].map((t,l)=>e.jsxs(o.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:l*.1},className:"bg-gray-900/40 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/30",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(t.icon,{className:`w-6 h-6 ${t.color}`})}),e.jsx("div",{className:`text-2xl font-bold ${t.color}`,children:t.value}),e.jsx("div",{className:"text-sm text-gray-400",children:t.label})]},t.label))}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:E.map(t=>e.jsx("button",{onClick:()=>q(t),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${h===t?"bg-orange-500/20 text-orange-300 border border-orange-400/30":"bg-gray-800/40 text-gray-400 hover:text-white hover:bg-gray-700/40"}`,children:t==="all"?"All Categories":t},t))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(o.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-gray-900/40 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/30",children:[e.jsxs("h2",{className:"text-xl font-bold text-orange-400 mb-6 flex items-center",children:[e.jsx(y,{className:"w-5 h-5 mr-2"}),"Inventory Items"]}),e.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:L.slice(0,10).map(t=>{const l=A(t.status);return e.jsxs("div",{className:"p-4 bg-black/40 rounded-lg border border-gray-700/50 hover:border-orange-400/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(l,{className:`w-5 h-5 ${j(t.status)}`}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-white",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["SKU: ",t.sku]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-white",children:t.quantity}),e.jsx("div",{className:`text-sm ${j(t.status)} capitalize`,children:t.status.replace("_"," ")})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Available:"}),e.jsx("div",{className:"text-green-400 font-mono",children:t.available})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Reserved:"}),e.jsx("div",{className:"text-yellow-400 font-mono",children:t.reserved})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Reorder at:"}),e.jsx("div",{className:"text-orange-400 font-mono",children:t.reorderPoint})]})]}),e.jsxs("div",{className:"mt-2 flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-400",children:["Sell Price: ",e.jsxs("span",{className:"text-cyan-400",children:["$",t.sellPrice]})]}),e.jsxs("span",{className:"text-gray-400",children:["Velocity: ",e.jsxs("span",{className:"text-purple-400",children:[t.velocity,"/day"]})]})]})]},t.id)})})]}),e.jsxs(o.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-gray-900/40 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/30",children:[e.jsxs("h2",{className:"text-xl font-bold text-orange-400 mb-6 flex items-center",children:[e.jsx(W,{className:"w-5 h-5 mr-2"}),"Supplier Performance"]}),e.jsx("div",{className:"space-y-4",children:M.map(t=>e.jsxs("div",{className:"p-4 bg-black/40 rounded-lg border border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-medium text-white",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${t.reliability>95?"bg-green-400":t.reliability>85?"bg-yellow-400":"bg-red-400"}`}),e.jsxs("span",{className:"text-sm font-mono text-gray-300",children:[t.reliability.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Delivery Time:"}),e.jsxs("div",{className:"text-cyan-400 font-mono",children:[t.deliveryTime," days"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Quality Score:"}),e.jsxs("div",{className:"text-green-400 font-mono",children:[t.qualityScore,"/5.0"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Total Orders:"}),e.jsx("div",{className:"text-white font-mono",children:t.totalOrders})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"On-Time:"}),e.jsx("div",{className:"text-purple-400 font-mono",children:t.onTimeDeliveries})]})]})]},t.id))})]})]}),e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gray-900/40 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/30",children:[e.jsxs("h2",{className:"text-xl font-bold text-orange-400 mb-6 flex items-center",children:[e.jsx(B,{className:"w-5 h-5 mr-2"}),"Inventory Optimization"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.lowStock>0&&e.jsxs("div",{className:"p-4 bg-yellow-500/10 rounded-lg border border-yellow-500/30",children:[e.jsx(i,{className:"w-5 h-5 text-yellow-400 mb-2"}),e.jsx("h3",{className:"font-medium text-yellow-400",children:"Low Stock Alert"}),e.jsxs("p",{className:"text-sm text-gray-300",children:[a.lowStock," items need reordering"]})]}),a.outOfStock>0&&e.jsxs("div",{className:"p-4 bg-red-500/10 rounded-lg border border-red-500/30",children:[e.jsx(i,{className:"w-5 h-5 text-red-400 mb-2"}),e.jsx("h3",{className:"font-medium text-red-400",children:"Out of Stock"}),e.jsxs("p",{className:"text-sm text-gray-300",children:[a.outOfStock," items are unavailable"]})]}),e.jsxs("div",{className:"p-4 bg-green-500/10 rounded-lg border border-green-500/30",children:[e.jsx(u,{className:"w-5 h-5 text-green-400 mb-2"}),e.jsx("h3",{className:"font-medium text-green-400",children:"Optimization Opportunity"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Improve turnover by 15% with demand forecasting"})]})]})]})]})}export{ee as default};
//# sourceMappingURL=InventoryModule-B2pMKgnO.js.map
