import{f as w,r as i,u as E,e as $,s as F,j as e,m as n,c as N,k as H,D as _,T as A,b as B,A as G,g as O,C as I}from"./index-LH0WbASD.js";import{P as R}from"./pause-D2WNkTVI.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=w("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=w("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=w("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);function Q(){const[o,h]=i.useState([]),[v,l]=i.useState([]),[p,u]=i.useState(!0),[x,g]=i.useState(null),[c,b]=i.useState([]),[f,m]=i.useState(!1),[y,r]=i.useState(!1),{agents:T,isConnected:k}=E();i.useEffect(()=>{C()},[]);const C=async()=>{try{u(!0),g(null);const s=(await $.fetchMarketingCampaigns()).map(a=>({id:a.id,name:`Campaign ${a.id}`,platform:a.platform,status:a.status,budget:a.budget||0,spent:a.spent||0,impressions:a.reach||0,clicks:a.clicks||0,conversions:a.conversions||0,productIds:[a.product_id],targetAudience:"General",createdAt:a.created_at.toString(),updatedAt:a.created_at.toString()}));h(s);const d=await F.fetchMetrics();l(d.topProducts)}catch(t){console.error("Failed to load marketing data:",t),g("Failed to load marketing data. Please check your connections.")}finally{u(!1)}},P=async t=>{try{r(!0);const s=T.filter(j=>j.type==="marketing"||j.name.toLowerCase().includes("marketing"));if(s.length===0)throw new Error("No marketing agents available. Please ensure marketing agents are running.");const d={name:`AI Generated Campaign - ${t.platform}`,platform:t.platform,budget:t.budget,target_audience:t.targetAudience,product_ids:t.productIds,campaign_type:t.campaignType,agent_id:s[0].id},a={id:`campaign_${Date.now()}`,name:d.name,platform:t.platform,status:"draft",budget:t.budget,spent:0,impressions:0,clicks:0,conversions:0,productIds:t.productIds,targetAudience:t.targetAudience,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};h(j=>[a,...j]),m(!1),b([])}catch(s){console.error("Failed to create campaign:",s),g(s instanceof Error?s.message:"Failed to create campaign")}finally{r(!1)}},D=t=>{switch(t){case"facebook":return"📘";case"instagram":return"📷";case"google":return"🔍";case"tiktok":return"🎵";case"twitter":return"🐦";default:return"📊"}},S=t=>{switch(t){case"active":return"text-green-400";case"paused":return"text-yellow-400";case"completed":return"text-blue-400";case"draft":return"text-gray-400";case"error":return"text-red-400";default:return"text-gray-400"}},L=t=>{switch(t){case"active":return I;case"paused":return R;case"completed":return I;case"draft":return O;case"error":return N;default:return N}};return p?e.jsx("div",{className:"h-full bg-gradient-to-br from-gray-900/50 to-black/50 p-6",children:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(n.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-2 border-cyan-400 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-cyan-400",children:"Loading Marketing Studio..."})]})})}):x?e.jsx("div",{className:"h-full bg-gradient-to-br from-gray-900/50 to-black/50 p-6",children:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(N,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-white text-lg font-bold mb-2",children:"Marketing Studio Error"}),e.jsx("p",{className:"text-gray-400 mb-4",children:x}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:C,className:"px-4 py-2 bg-cyan-500/20 border border-cyan-400 rounded-lg text-cyan-400 hover:bg-cyan-500/30 transition-colors",children:"Retry Loading"})]})})}):e.jsxs("div",{className:"h-full bg-gradient-to-br from-gray-900/50 to-black/50 overflow-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(n.div,{initial:{scale:0},animate:{scale:1},className:"p-3 bg-gradient-to-r from-pink-500/20 to-purple-500/20 rounded-2xl border border-pink-400/30",children:e.jsx(H,{className:"w-6 h-6 text-pink-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Marketing Studio"}),e.jsx("p",{className:"text-gray-400",children:"AI-Powered Campaign Management & Shopify Integration"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gray-800/50 rounded-full",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${k?"bg-green-400":"bg-red-400"}`}),e.jsx("span",{className:"text-sm text-gray-400",children:k?"Connected":"Disconnected"})]}),e.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!0),disabled:c.length===0,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-400/30 rounded-lg text-pink-400 hover:bg-pink-500/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(M,{className:"w-4 h-4"}),"Create Campaign"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-gray-800/30 rounded-xl p-6 border border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(V,{className:"w-5 h-5 text-cyan-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Shopify Products"})]}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:v.map(t=>e.jsxs(n.div,{whileHover:{scale:1.02},className:`p-4 rounded-lg border cursor-pointer transition-all ${c.includes(t.id)?"bg-cyan-500/20 border-cyan-400/50":"bg-gray-700/30 border-gray-600/50 hover:border-gray-500/50"}`,onClick:()=>{b(s=>s.includes(t.id)?s.filter(d=>d!==t.id):[...s,t.id])},children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-medium text-white text-sm",children:t.title}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[e.jsx(_,{className:"w-3 h-3"}),t.totalSales.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[e.jsxs("span",{children:[t.ordersCount," orders"]}),e.jsxs("span",{children:[t.inventoryLevel," in stock"]})]})]},t.id))}),c.length>0&&e.jsx("div",{className:"mt-4 p-3 bg-cyan-500/10 rounded-lg border border-cyan-400/30",children:e.jsxs("p",{className:"text-sm text-cyan-400",children:[c.length," product",c.length>1?"s":""," selected for campaign"]})})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-gray-800/30 rounded-xl p-6 border border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{className:"w-5 h-5 text-pink-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Active Campaigns"})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[o.length," total campaigns"]})]}),e.jsx("div",{className:"space-y-4",children:o.map(t=>{const s=L(t.status),d=t.spent>0?t.conversions*50/t.spent:0;return e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700/30 rounded-lg p-4 border border-gray-600/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:D(t.platform)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white",children:t.name}),e.jsx("p",{className:"text-xs text-gray-400",children:t.targetAudience})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{className:`w-4 h-4 ${S(t.status)}`}),e.jsx("span",{className:`text-sm capitalize ${S(t.status)}`,children:t.status})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Budget"}),e.jsxs("p",{className:"text-white font-medium",children:["$",t.budget.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Spent"}),e.jsxs("p",{className:"text-white font-medium",children:["$",t.spent.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Impressions"}),e.jsx("p",{className:"text-white font-medium",children:t.impressions.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"ROAS"}),e.jsxs("p",{className:"text-white font-medium",children:[d.toFixed(2),"x"]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-400",children:[t.productIds.length," product",t.productIds.length>1?"s":""," linked"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-1 text-gray-400 hover:text-white transition-colors",children:e.jsx(B,{className:"w-4 h-4"})}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-1 text-gray-400 hover:text-white transition-colors",children:e.jsx(z,{className:"w-4 h-4"})})]})]})]},t.id)})}),o.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(A,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:"No Active Campaigns"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Select products and create your first AI-powered marketing campaign"})]})]})})]}),e.jsx(G,{children:f&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:()=>!y&&m(!1),children:e.jsxs(n.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gray-800 rounded-xl p-6 max-w-md w-full border border-gray-700",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(M,{className:"w-5 h-5 text-pink-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Create AI Campaign"})]}),e.jsx(Z,{selectedProducts:c,onSubmit:P,onCancel:()=>m(!1),loading:y})]})})})]})}function Z({selectedProducts:o,onSubmit:h,onCancel:v,loading:l}){const[p,u]=i.useState("facebook"),[x,g]=i.useState(1e3),[c,b]=i.useState("conversion"),[f,m]=i.useState("Interested in technology and gadgets"),y=r=>{r.preventDefault(),h({productIds:o,platform:p,budget:x,targetAudience:f,campaignType:c})};return e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platform"}),e.jsxs("select",{value:p,onChange:r=>u(r.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-pink-400 focus:border-transparent",disabled:l,children:[e.jsx("option",{value:"facebook",children:"Facebook"}),e.jsx("option",{value:"instagram",children:"Instagram"}),e.jsx("option",{value:"google",children:"Google Ads"}),e.jsx("option",{value:"tiktok",children:"TikTok"}),e.jsx("option",{value:"twitter",children:"Twitter"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Campaign Type"}),e.jsxs("select",{value:c,onChange:r=>b(r.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-pink-400 focus:border-transparent",disabled:l,children:[e.jsx("option",{value:"awareness",children:"Brand Awareness"}),e.jsx("option",{value:"conversion",children:"Conversion Focused"}),e.jsx("option",{value:"retargeting",children:"Retargeting"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Budget ($)"}),e.jsx("input",{type:"number",value:x,onChange:r=>g(Number(r.target.value)),min:"100",max:"50000",step:"100",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-pink-400 focus:border-transparent",disabled:l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Audience"}),e.jsx("textarea",{value:f,onChange:r=>m(r.target.value),rows:3,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-pink-400 focus:border-transparent",placeholder:"Describe your target audience...",disabled:l})]}),e.jsxs("div",{className:"text-sm text-gray-400 bg-gray-700/50 rounded-lg p-3",children:[e.jsx("p",{className:"font-medium mb-1",children:"AI Campaign Generation"}),e.jsxs("p",{children:["Our marketing agents will create optimized ad copy, visuals, and targeting for your selected ",o.length," product",o.length>1?"s":"","."]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(n.button,{type:"button",onClick:v,disabled:l,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex-1 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-300 hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx(n.button,{type:"submit",disabled:l,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex-1 px-4 py-2 bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-400/30 rounded-lg text-pink-400 hover:bg-pink-500/30 transition-colors disabled:opacity-50",children:l?"Creating...":"Create Campaign"})]})]})}export{Q as default};
//# sourceMappingURL=MarketingStudioModule-BomEUl8O.js.map
