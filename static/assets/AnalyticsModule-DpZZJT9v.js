import{f,r as c,g as v,j as e,R as i,T as d,h as x,i as w,k as y,l as C,U as A,P as L,c as S}from"./index-DGVu5RhP.js";import{C as l,B as R}from"./Badge-BDNklIKN.js";import{A as T,a as _}from"./arrow-up-BmP9dCgx.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=f("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);function $(){const[a,m]=c.useState(null),[u,o]=c.useState(!0),[r,b]=c.useState("30d"),[h,g]=c.useState(!1);c.useEffect(()=>{n();const s=setInterval(n,3e4);return()=>clearInterval(s)},[r]);const n=async()=>{try{o(!0);const s=await v.get("/api/analytics/dashboard",{params:{time_range:r,refresh:!0}});m(s.data)}catch(s){console.error("Failed to fetch analytics dashboard:",s),m(null)}finally{o(!1)}},j=async()=>{g(!0),await n(),g(!1)},N=s=>{switch(s){case"up":return e.jsx(_,{className:"w-4 h-4 text-green-400"});case"down":return e.jsx(T,{className:"w-4 h-4 text-red-400"});default:return e.jsx(D,{className:"w-4 h-4 text-gray-400"})}};return u?e.jsx("div",{className:"min-h-screen bg-black text-white p-6 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(i,{className:"w-12 h-12 animate-spin text-cyan-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-300",children:"Loading Analytics..."}),e.jsx("p",{className:"text-gray-400",children:"Connecting to production analytics agent"})]})}):a?e.jsx(w,{fallback:(s,t)=>e.jsx("div",{className:"min-h-screen bg-black text-white p-6 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(d,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-2",children:"Analytics Module Error"}),e.jsxs("p",{className:"text-gray-300 mb-4",children:["Production analytics error: ",s.message]}),e.jsx(x,{onClick:t,className:"bg-cyan-600 hover:bg-cyan-700",children:"Retry"})]})}),children:e.jsx("div",{className:"min-h-screen bg-black text-white p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(y,{className:"w-8 h-8 text-cyan-400"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent",children:"Production Analytics"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Real-time business intelligence powered by ProductionAnalyticsAgent"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("select",{value:r,onChange:s=>b(s.target.value),className:"bg-gray-800 border border-gray-600 rounded px-3 py-2 text-sm",children:[e.jsx("option",{value:"7d",children:"Last 7 days"}),e.jsx("option",{value:"30d",children:"Last 30 days"}),e.jsx("option",{value:"90d",children:"Last 90 days"})]}),e.jsxs(x,{onClick:j,disabled:h,variant:"outline",className:"flex items-center space-x-2",children:[e.jsx(i,{className:`w-4 h-4 ${h?"animate-spin":""}`}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Last updated: ",new Date(a.last_updated).toLocaleString()]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:Object.entries(a.kpis).map(([s,t])=>e.jsxs(l,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${t.status==="healthy"?"bg-green-400":t.status==="warning"?"bg-yellow-400":"bg-red-400"}`}),e.jsx("h3",{className:"text-sm font-medium text-gray-400",children:s.replace(/_/g," ").replace(/\b\w/g,p=>p.toUpperCase())})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[N(t.change>0?"up":t.change<0?"down":"stable"),e.jsxs("span",{className:`text-sm ${t.change>0?"text-green-400":t.change<0?"text-red-400":"text-gray-400"}`,children:[Math.abs(t.change).toFixed(1),"%"]})]})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-baseline justify-between",children:[e.jsx("span",{className:`text-3xl font-bold ${t.status==="healthy"?"text-green-400":t.status==="warning"?"text-yellow-400":"text-red-400"}`,children:t.formatted}),e.jsx(R,{variant:t.status==="healthy"?"default":"secondary",children:t.status})]})})]},s))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(C,{className:"w-8 h-8 text-blue-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:a.summary.total_orders.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-400",children:"Total Orders"})]})]})}),e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(A,{className:"w-8 h-8 text-purple-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:a.summary.total_customers.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-400",children:"Total Customers"})]})]})}),e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(L,{className:"w-8 h-8 text-green-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:a.summary.inventory_items.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-400",children:"Inventory Items"})]})]})}),e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(S,{className:"w-8 h-8 text-orange-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:a.summary.active_campaigns.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-400",children:"Active Campaigns"})]})]})})]}),e.jsxs(l,{className:"p-6 mb-8",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(y,{className:"w-5 h-5 mr-2 text-cyan-400"}),"Analytics Charts"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Object.entries(a.charts).map(([s,t])=>e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-300 mb-2",children:t.title}),e.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Type: ",t.type]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Data points: ",t.data.length]})]},s))})]}),a.alerts&&a.alerts.length>0&&e.jsxs(l,{className:"p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(d,{className:"w-5 h-5 mr-2 text-yellow-400"}),"System Alerts (",a.alerts.length,")"]}),e.jsx("div",{className:"space-y-3",children:a.alerts.map(s=>e.jsx("div",{className:`p-4 rounded-lg border ${s.type==="warning"?"bg-yellow-900/20 border-yellow-500/30":s.type==="info"?"bg-blue-900/20 border-blue-500/30":"bg-red-900/20 border-red-500/30"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-white mb-1",children:s.title}),e.jsx("div",{className:"text-sm text-gray-300",children:s.message}),e.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Severity: ",s.severity," â€¢ ",new Date(s.created_at).toLocaleString()]})]}),e.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${s.type==="warning"?"bg-yellow-500/20 text-yellow-400":s.type==="info"?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"}`,children:s.type})]})},s.id))})]})]})})}):e.jsx("div",{className:"min-h-screen bg-black text-white p-6 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(d,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-2",children:"Analytics Unavailable"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Unable to connect to production analytics agent"}),e.jsxs(x,{onClick:j,className:"bg-cyan-600 hover:bg-cyan-700",children:[e.jsx(i,{className:"w-4 h-4 mr-2"}),"Retry Connection"]})]})})}export{$ as default};
//# sourceMappingURL=AnalyticsModule-DpZZJT9v.js.map
