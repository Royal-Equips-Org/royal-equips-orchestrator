{"version":3,"file":"usePerformance-D9WqG5wi.js","sources":["../../apps/command-center-ui/src/hooks/usePerformance.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\n\r\ninterface PerformanceMetrics {\r\n  cpuUsage: number;\r\n  memoryUsage: number;\r\n  networkLatency: number;\r\n  activeConnections: number;\r\n  requestsPerSecond: number;\r\n  errorRate: number;\r\n  uptime: number;\r\n}\r\n\r\ninterface UsePerformanceReturn {\r\n  metrics: PerformanceMetrics | null;\r\n  loading: boolean;\r\n  error: string | null;\r\n  refresh: () => Promise<void>;\r\n  trackEvent: (event: string) => void;\r\n  trackMetric: (metric: string, value: number) => void;\r\n  trackInteraction: (interaction: string) => void;\r\n}\r\n\r\nexport function usePerformance(): UsePerformanceReturn {\r\n  const [metrics, setMetrics] = useState<PerformanceMetrics | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchPerformanceMetrics = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      // Real metrics endpoint\r\n      const response = await fetch('/v1/metrics');\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      // Require real data; surface error if missing\r\n      const performanceData: PerformanceMetrics = data;\r\n      \r\n      setMetrics(performanceData);\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : 'Failed to fetch performance metrics';\r\n      setError(errorMessage);\r\n      console.error('Performance metrics fetch error:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const refresh = useCallback(async () => {\r\n    await fetchPerformanceMetrics();\r\n  }, [fetchPerformanceMetrics]);\r\n\r\n  // Initial load and periodic updates\r\n  useEffect(() => {\r\n    fetchPerformanceMetrics();\r\n    \r\n    // Update every 30 seconds\r\n    const interval = setInterval(fetchPerformanceMetrics, 30000);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, [fetchPerformanceMetrics]);\r\n\r\n  // Add tracking functions\r\n  const trackEvent = useCallback((event: string) => {\r\n    console.log(`Event tracked: ${event}`);\r\n    // In production, send to analytics service\r\n  }, []);\r\n\r\n  const trackMetric = useCallback((metric: string, value: number) => {\r\n    console.log(`Metric tracked: ${metric} = ${value}`);\r\n    // In production, send to metrics service\r\n  }, []);\r\n\r\n  const trackInteraction = useCallback((interaction: string) => {\r\n    console.log(`Interaction tracked: ${interaction}`);\r\n    // In production, send to analytics service\r\n  }, []);\r\n\r\n  return {\r\n    metrics,\r\n    loading,\r\n    error,\r\n    refresh,\r\n    trackEvent,\r\n    trackMetric,\r\n    trackInteraction\r\n  };\r\n}"],"names":["usePerformance","metrics","setMetrics","useState","loading","setLoading","error","setError","fetchPerformanceMetrics","useCallback","response","performanceData","err","errorMessage","refresh","useEffect","interval","trackEvent","event","trackMetric","metric","value","trackInteraction","interaction"],"mappings":"wCAsBO,SAASA,GAAuC,CACrD,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAAA,SAAoC,IAAI,EAChE,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EACrC,CAACG,EAAOC,CAAQ,EAAIJ,EAAAA,SAAwB,IAAI,EAEhDK,EAA0BC,EAAAA,YAAY,SAAY,CACtD,GAAI,CACFJ,EAAW,EAAI,EACfE,EAAS,IAAI,EAGb,MAAMG,EAAW,MAAM,MAAM,aAAa,EAE1C,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAM1D,MAAMC,EAHO,MAAMD,EAAS,KAAA,EAK5BR,EAAWS,CAAe,CAC5B,OAASC,EAAK,CACZ,MAAMC,EAAeD,aAAe,MAAQA,EAAI,QAAU,sCAC1DL,EAASM,CAAY,EACrB,QAAQ,MAAM,mCAAoCD,CAAG,CACvD,QAAA,CACEP,EAAW,EAAK,CAClB,CACF,EAAG,CAAA,CAAE,EAECS,EAAUL,EAAAA,YAAY,SAAY,CACtC,MAAMD,EAAA,CACR,EAAG,CAACA,CAAuB,CAAC,EAG5BO,EAAAA,UAAU,IAAM,CACdP,EAAA,EAGA,MAAMQ,EAAW,YAAYR,EAAyB,GAAK,EAE3D,MAAO,IAAM,cAAcQ,CAAQ,CACrC,EAAG,CAACR,CAAuB,CAAC,EAG5B,MAAMS,EAAaR,cAAaS,GAAkB,CAChD,QAAQ,IAAI,kBAAkBA,CAAK,EAAE,CAEvC,EAAG,CAAA,CAAE,EAECC,EAAcV,EAAAA,YAAY,CAACW,EAAgBC,IAAkB,CACjE,QAAQ,IAAI,mBAAmBD,CAAM,MAAMC,CAAK,EAAE,CAEpD,EAAG,CAAA,CAAE,EAECC,EAAmBb,cAAac,GAAwB,CAC5D,QAAQ,IAAI,wBAAwBA,CAAW,EAAE,CAEnD,EAAG,CAAA,CAAE,EAEL,MAAO,CACL,QAAAtB,EACA,QAAAG,EACA,MAAAE,EACA,QAAAQ,EACA,WAAAG,EACA,YAAAE,EACA,iBAAAG,CAAA,CAEJ"}