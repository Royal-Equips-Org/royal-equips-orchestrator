import{f as U,r as c,g as i,q as h,j as e,R as j,T as x,h as n,i as V,l as w,d as Z,P as G,U as H,D as J,z as K,c as Q,B as W,Z as X,o as S,C as Y}from"./index-DGVu5RhP.js";import{C as a,B as C}from"./Badge-BDNklIKN.js";import{T as _,a as ee,b as d,c as k}from"./Tabs-BXgm6cwm.js";import{T as se}from"./truck-nezvglZW.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=U("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);function ie(){const[l,g]=c.useState(null),[r,T]=c.useState(null),[A,L]=c.useState([]),[P,I]=c.useState([]),[R,p]=c.useState([]),[D,N]=c.useState(!0),[B,E]=c.useState("dashboard"),[u,f]=c.useState(!1);c.useEffect(()=>{F();const s=setInterval(o,3e4);return()=>clearInterval(s)},[]);const F=async()=>{try{N(!0),await Promise.all([M(),o(),y()])}catch(s){console.error("Failed to initialize Shopify module:",s)}finally{N(!1)}},M=async()=>{try{const s=await i.get("/api/shopify/status");g(s.data.store)}catch(s){console.error("Failed to fetch store info:",s),g(null)}},o=async()=>{var s,t;try{const[m,q,z]=await Promise.all([i.get("/api/shopify/metrics"),i.get("/api/shopify/products",{params:{limit:50}}),i.get("/api/shopify/orders",{params:{limit:20}})]);T(m.data),L(h((s=q.data)==null?void 0:s.products)),I(h((t=z.data)==null?void 0:t.orders))}catch(m){console.error("Failed to fetch Shopify data:",m)}},y=async()=>{var s;try{const t=await i.get("/api/agents/shopify");p(h((s=t.data)==null?void 0:s.agents))}catch(t){console.error("Failed to fetch automation agents:",t),p([])}},O=async()=>{try{f(!0),await i.post("/api/shopify/sync"),await o()}catch(s){console.error("Failed to sync Shopify data:",s)}finally{f(!1)}},$=async s=>{try{await i.post(`/api/agents/shopify/${s}/toggle`),await y()}catch(t){console.error("Failed to toggle agent:",t)}},v=s=>{switch(s){case"connected":case"active":return"text-green-400";case"syncing":case"processing":return"text-yellow-400";case"disconnected":case"inactive":return"text-gray-400";case"error":return"text-red-400";default:return"text-gray-400"}},b=s=>{switch(s){case"connected":case"active":return e.jsx(Y,{className:"w-4 h-4 text-green-400"});case"syncing":case"processing":return e.jsx(j,{className:"w-4 h-4 text-yellow-400 animate-spin"});case"disconnected":case"inactive":return e.jsx(S,{className:"w-4 h-4 text-gray-400"});case"error":return e.jsx(x,{className:"w-4 h-4 text-red-400"});default:return e.jsx(S,{className:"w-4 h-4 text-gray-400"})}};return D?e.jsx("div",{className:"min-h-screen bg-black text-white p-6 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(j,{className:"w-12 h-12 animate-spin text-cyan-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-300",children:"Loading Shopify Integration..."}),e.jsx("p",{className:"text-gray-400",children:"Connecting to store and automation agents"})]})}):l?e.jsx(V,{fallback:(s,t)=>e.jsx("div",{className:"min-h-screen bg-black text-white p-6 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(x,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-2",children:"Shopify Module Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:s.message}),e.jsx(n,{onClick:t,className:"bg-cyan-600 hover:bg-cyan-700",children:"Retry"})]})}),children:e.jsx("div",{className:"min-h-screen bg-black text-white p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(w,{className:"w-8 h-8 text-green-400"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent",children:l.name}),e.jsxs("p",{className:"text-gray-400 mt-1",children:[l.domain," • ",l.plan," Plan • ",v(l.status)]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[b(l.status),e.jsx("span",{className:`text-sm ${v(l.status)}`,children:l.status})]}),e.jsxs(n,{onClick:O,disabled:u,variant:"outline",className:"flex items-center space-x-2",children:[e.jsx(j,{className:`w-4 h-4 ${u?"animate-spin":""}`}),e.jsx("span",{children:"Sync Data"})]}),e.jsxs(n,{className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Configure"]})]})]}),r&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(G,{className:"w-8 h-8 text-blue-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:r.totalProducts.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-400",children:"Products"})]})]})}),e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(w,{className:"w-8 h-8 text-purple-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:r.totalOrders.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-400",children:"Orders"})]})]})}),e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(H,{className:"w-8 h-8 text-cyan-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:r.totalCustomers.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-400",children:"Customers"})]})]})}),e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(J,{className:"w-8 h-8 text-green-400"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",r.totalRevenue.toLocaleString()]}),e.jsx("div",{className:"text-sm text-gray-400",children:"Revenue"})]})]})}),e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(K,{className:"w-8 h-8 text-orange-400"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",r.inventoryValue.toLocaleString()]}),e.jsx("div",{className:"text-sm text-gray-400",children:"Inventory"})]})]})}),e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(x,{className:"w-8 h-8 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:r.lowStockItems}),e.jsx("div",{className:"text-sm text-gray-400",children:"Low Stock"})]})]})})]}),e.jsxs(_,{value:B,onValueChange:E,children:[e.jsxs(ee,{className:"grid w-full grid-cols-5 mb-8",children:[e.jsx(d,{value:"dashboard",children:"Dashboard"}),e.jsx(d,{value:"products",children:"Products"}),e.jsx(d,{value:"orders",children:"Orders"}),e.jsx(d,{value:"automation",children:"Automation"}),e.jsx(d,{value:"analytics",children:"Analytics"})]}),e.jsx(k,{value:"dashboard",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(a,{className:"p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(se,{className:"w-5 h-5 mr-2 text-purple-400"}),"Recent Orders"]}),e.jsx("div",{className:"space-y-3",children:P.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-semibold text-white",children:["#",s.orderNumber]}),e.jsx("div",{className:"text-sm text-gray-400",children:s.customerEmail})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-green-400",children:s.totalPrice}),e.jsx("div",{className:"text-xs text-gray-400",children:new Date(s.createdAt).toLocaleDateString()})]})]},s.id))})]}),e.jsxs(a,{className:"p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(Q,{className:"w-5 h-5 mr-2 text-green-400"}),"Top Products"]}),e.jsx("div",{className:"space-y-3",children:A.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[s.images.length>0&&e.jsx("img",{src:s.images[0],alt:s.title,className:"w-10 h-10 rounded object-cover"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white",children:s.title}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Stock: ",s.totalInventory]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-cyan-400",children:s.price}),e.jsx(C,{variant:s.status==="active"?"default":"secondary",children:s.status})]})]},s.id))})]})]})}),e.jsx(k,{value:"automation",children:e.jsx("div",{className:"space-y-6",children:e.jsxs(a,{className:"p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(W,{className:"w-5 h-5 mr-2 text-purple-400"}),"AI Automation Agents"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.map(s=>e.jsxs(a,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{className:"font-semibold",children:s.name})]}),b(s.status)]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Type:"}),e.jsx(C,{variant:"outline",children:s.type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Tasks:"}),e.jsx("span",{className:"text-cyan-400",children:s.tasksCompleted})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Performance:"}),e.jsxs("span",{className:"text-green-400",children:[s.performance,"%"]})]})]}),e.jsx(n,{onClick:()=>$(s.id),className:"w-full mt-3",variant:s.status==="active"?"destructive":"default",children:s.status==="active"?"Pause":"Activate"})]},s.id))})]})})})]})]})})}):e.jsx("div",{className:"min-h-screen bg-black text-white p-6 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(x,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-2",children:"Shopify Not Connected"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Connect your Shopify store to enable automation"}),e.jsxs(n,{className:"bg-green-600 hover:bg-green-700",children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Connect Shopify Store"]})]})})}export{ie as default};
//# sourceMappingURL=ShopifyModule-YIt3HWO1.js.map
