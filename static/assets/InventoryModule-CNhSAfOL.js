import{r as c,j as e,R as N,T as m,P as h,D as k,c as f,b as I,C as S,t as C,k as A,Z as R,o as D}from"./index-DGVu5RhP.js";import{T as F}from"./truck-nezvglZW.js";import{a as T,A as E}from"./arrow-up-BmP9dCgx.js";const z=()=>{const[i,v]=c.useState(null),[y,j]=c.useState(!0),[g,u]=c.useState(null),[p,b]=c.useState("dashboard"),n=c.useCallback(async()=>{try{j(!0);const s=await fetch("/api/inventory/dashboard");if(!s.ok)throw new Error("Failed to fetch inventory data");const a=await s.json();v(a.data||a),u(null)}catch(s){console.error("Inventory data fetch error:",s),u(s instanceof Error?s.message:"Failed to load inventory data")}finally{j(!1)}},[]);c.useEffect(()=>{n();const s=setInterval(n,3e4);return()=>clearInterval(s)},[n]);const d=(s,a)=>a==="currency"?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s):a==="percentage"?`${s.toFixed(1)}%`:s.toLocaleString(),o=({title:s,value:a,icon:w,trend:r,type:_})=>e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-400",children:s}),e.jsx("div",{className:"text-cyan-400",children:w})]}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:d(a,_)}),r!==void 0&&e.jsxs("div",{className:`flex items-center text-sm ${r>0?"text-green-400":r<0?"text-red-400":"text-gray-400"}`,children:[r>0?e.jsx(T,{size:16}):r<0?e.jsx(E,{size:16}):null,e.jsxs("span",{className:"ml-1",children:[Math.abs(r).toFixed(1),"%"]})]})]})]});if(y)return e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(N,{className:"h-6 w-6 animate-spin text-cyan-400"}),e.jsx("span",{className:"text-lg",children:"Loading inventory data..."})]})});if(g)return e.jsxs("div",{className:"bg-red-900/20 border border-red-500/20 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(m,{className:"h-6 w-6 text-red-400"}),e.jsx("h3",{className:"text-lg font-semibold text-red-400",children:"Inventory Module Error"})]}),e.jsx("p",{className:"text-red-300 mb-4",children:g}),e.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Retry"})]});if(!i)return e.jsxs("div",{className:"text-center py-8",children:[e.jsx(h,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"No inventory data available"})]});const t=i.inventory_metrics||{},l=i.performance_metrics||{},x=i.reorder_recommendations||[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-orange-500/20 rounded-lg",children:e.jsx(h,{className:"h-6 w-6 text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Inventory Intelligence"}),e.jsx("p",{className:"text-gray-400",children:"AI-powered inventory management & forecasting"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("select",{value:p,onChange:s=>b(s.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm",children:[e.jsx("option",{value:"dashboard",children:"Dashboard"}),e.jsx("option",{value:"forecasting",children:"Forecasting"}),e.jsx("option",{value:"optimization",children:"Optimization"}),e.jsx("option",{value:"suppliers",children:"Suppliers"})]}),e.jsxs("button",{onClick:n,className:"flex items-center space-x-2 px-3 py-2 bg-cyan-600 hover:bg-cyan-700 rounded-lg transition-colors",children:[e.jsx(N,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(o,{title:"Total Items",value:t.total_items||0,icon:e.jsx(h,{className:"h-6 w-6"}),trend:5.2}),e.jsx(o,{title:"Total Value",value:t.total_value||0,icon:e.jsx(k,{className:"h-6 w-6"}),type:"currency",trend:12.8}),e.jsx(o,{title:"Low Stock Items",value:t.low_stock_items||0,icon:e.jsx(m,{className:"h-6 w-6"}),trend:-8.3}),e.jsx(o,{title:"Forecast Accuracy",value:l.forecast_accuracy||0,icon:e.jsx(f,{className:"h-6 w-6"}),type:"percentage",trend:3.1})]}),p==="dashboard"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(I,{className:"h-5 w-5 mr-2 text-cyan-400"}),"Inventory Status"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(S,{className:"h-5 w-5 text-green-400"}),e.jsx("span",{children:"In Stock"})]}),e.jsx("span",{className:"font-bold text-green-400",children:(t.total_items||0)-(t.out_of_stock_items||0)})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(m,{className:"h-5 w-5 text-yellow-400"}),e.jsx("span",{children:"Low Stock"})]}),e.jsx("span",{className:"font-bold text-yellow-400",children:t.low_stock_items||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(C,{className:"h-5 w-5 text-red-400"}),e.jsx("span",{children:"Out of Stock"})]}),e.jsx("span",{className:"font-bold text-red-400",children:t.out_of_stock_items||0})]})]})]}),e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(A,{className:"h-5 w-5 mr-2 text-cyan-400"}),"Performance Metrics"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Inventory Turnover"}),e.jsxs("span",{className:"font-medium",children:[(l.inventory_turnover||0).toFixed(1),"x"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Service Level"}),e.jsx("span",{className:"font-medium",children:d(l.service_level||0,"percentage")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Cost Savings"}),e.jsx("span",{className:"font-medium text-green-400",children:d(l.cost_savings||0,"currency")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Automated Reorders"}),e.jsx("span",{className:"font-medium",children:l.automated_reorders||0})]})]})]})]}),x&&x.length>0&&e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(F,{className:"h-5 w-5 mr-2 text-cyan-400"}),"Reorder Recommendations"]}),e.jsx("div",{className:"space-y-3",children:x.slice(0,5).map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/30 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.product_name||`Product ${a+1}`}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Current: ",s.current_stock||0," | Recommended: ",s.recommended_quantity||0]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-orange-400",children:["Priority: ",s.priority||"Medium"]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Est. Cost: ",d(s.estimated_cost||0,"currency")]})]})]},a))})]}),e.jsx("div",{className:"bg-gray-800/30 border border-gray-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx("span",{children:"AI-Powered Forecasting"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{className:"h-4 w-4"}),e.jsx("span",{children:"Automated Optimization"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("span",{children:"Real-time Updates"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{children:["Last updated: ",new Date().toLocaleTimeString()]}),e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"})]})]})})]})};export{z as default};
//# sourceMappingURL=InventoryModule-CNhSAfOL.js.map
