{"version":3,"file":"ErrorTest-5-BEEDvt.js","sources":["../../apps/command-center-ui/src/test/ErrorTest.tsx"],"sourcesContent":["/**\n * Test component to demonstrate error boundary functionality\n * This component simulates the original \"Cannot read properties of undefined (reading 'map')\" error\n */\n\nimport React, { useState } from 'react';\nimport { Button } from '../components/ui/Button';\nimport ErrorBoundary from '../components/error/ErrorBoundary';\nimport { ArrayUtils } from '../utils/array-utils';\n\n// Component that would cause the original error\nconst BadComponent = ({ data }: { data: any }) => {\n  return (\n    <div className=\"p-4 bg-gray-800 rounded\">\n      <h3 className=\"text-white mb-2\">This would crash without ArrayUtils:</h3>\n      {/* This would throw \"Cannot read properties of undefined (reading 'map')\" */}\n      {/* data.items.map(item => <div key={item.id}>{item.name}</div>) */}\n      \n      <h3 className=\"text-green-400 mb-2\">But with ArrayUtils, it works safely:</h3>\n      {ArrayUtils.map(data?.items, (item: any, index: number) => (\n        <div key={item?.id || index} className=\"text-cyan-400 text-sm\">\n          {item?.name || 'Unknown item'}\n        </div>\n      ))}\n      \n      {ArrayUtils.length(data?.items) === 0 && (\n        <div className=\"text-gray-400 text-sm\">No items to display</div>\n      )}\n    </div>\n  );\n};\n\n// Component that deliberately throws an error to test ErrorBoundary\nconst CrashingComponent = () => {\n  const badData: any = null;\n  \n  // This will throw an error to test the ErrorBoundary\n  return (\n    <div>\n      {badData.nonExistentProperty.map((item: any) => (\n        <div key={item.id}>{item.name}</div>\n      ))}\n    </div>\n  );\n};\n\nexport default function ErrorTest() {\n  const [showCrash, setShowCrash] = useState(false);\n  const [testData, setTestData] = useState<any>(null);\n\n  const generateGoodData = () => {\n    setTestData({\n      items: [\n        { id: 1, name: 'Product A' },\n        { id: 2, name: 'Product B' },\n        { id: 3, name: 'Product C' }\n      ]\n    });\n  };\n\n  const generateBadData = () => {\n    setTestData({\n      // items is missing, which would cause the original error\n    });\n  };\n\n  const generateNullData = () => {\n    setTestData(null);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-black text-white p-6\">\n      <div className=\"max-w-4xl mx-auto\">\n        <h1 className=\"text-3xl font-bold text-cyan-400 mb-6\">\n          Royal Equips Error Handling Test\n        </h1>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {/* Safe Array Utilities Test */}\n          <div className=\"space-y-4\">\n            <h2 className=\"text-xl font-semibold text-purple-400\">Safe Array Utilities</h2>\n            \n            <div className=\"space-x-2\">\n              <Button onClick={generateGoodData} className=\"bg-green-600 hover:bg-green-700\">\n                Good Data\n              </Button>\n              <Button onClick={generateBadData} className=\"bg-yellow-600 hover:bg-yellow-700\">\n                Missing Array\n              </Button>\n              <Button onClick={generateNullData} className=\"bg-red-600 hover:bg-red-700\">\n                Null Data\n              </Button>\n            </div>\n            \n            <BadComponent data={testData} />\n            \n            <div className=\"text-sm text-gray-400 bg-gray-900 p-3 rounded\">\n              <strong>Test Results:</strong>\n              <br />‚Ä¢ Good Data: Shows items normally\n              <br />‚Ä¢ Missing Array: Shows \"No items to display\"\n              <br />‚Ä¢ Null Data: Shows \"No items to display\"\n              <br />‚Ä¢ Original code would crash on missing/null arrays\n            </div>\n          </div>\n\n          {/* Error Boundary Test */}\n          <div className=\"space-y-4\">\n            <h2 className=\"text-xl font-semibold text-purple-400\">Error Boundary</h2>\n            \n            <Button \n              onClick={() => setShowCrash(!showCrash)}\n              className=\"bg-red-600 hover:bg-red-700\"\n            >\n              {showCrash ? 'Hide Crash Test' : 'Test Error Boundary'}\n            </Button>\n            \n            <ErrorBoundary\n              fallback={(error, retry) => (\n                <div className=\"p-4 bg-red-900/20 border border-red-500/30 rounded\">\n                  <h3 className=\"text-red-400 font-semibold mb-2\">üö® Error Caught!</h3>\n                  <div className=\"text-sm text-red-300 mb-3\">\n                    {error.message}\n                  </div>\n                  <Button onClick={retry} className=\"bg-cyan-600 hover:bg-cyan-700\">\n                    Retry\n                  </Button>\n                </div>\n              )}\n            >\n              {showCrash ? (\n                <CrashingComponent />\n              ) : (\n                <div className=\"p-4 bg-green-900/20 border border-green-500/30 rounded text-green-400\">\n                  ‚úÖ Component working normally\n                </div>\n              )}\n            </ErrorBoundary>\n            \n            <div className=\"text-sm text-gray-400 bg-gray-900 p-3 rounded\">\n              <strong>Error Boundary Features:</strong>\n              <br />‚Ä¢ Catches JavaScript errors in component tree\n              <br />‚Ä¢ Shows user-friendly error message\n              <br />‚Ä¢ Provides retry functionality\n              <br />‚Ä¢ Logs errors for debugging\n              <br />‚Ä¢ Prevents white screen of death\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mt-8 p-4 bg-cyan-900/20 border border-cyan-500/30 rounded\">\n          <h3 className=\"text-cyan-400 font-semibold mb-2\">üõ°Ô∏è Protection Summary</h3>\n          <div className=\"text-sm text-gray-300\">\n            <p><strong>Before Fix:</strong> \"Cannot read properties of undefined (reading 'map')\" ‚Üí White screen crash</p>\n            <p><strong>After Fix:</strong> Safe array operations + error boundaries ‚Üí Graceful handling with user-friendly messages</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":["BadComponent","data","jsxs","jsx","ArrayUtils","item","index","CrashingComponent","ErrorTest","showCrash","setShowCrash","useState","testData","setTestData","generateGoodData","generateBadData","generateNullData","Button","ErrorBoundary","error","retry"],"mappings":"oEAWA,MAAMA,EAAe,CAAC,CAAE,KAAAC,KAEpBC,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,kBAAkB,SAAA,uCAAoC,EAIpEA,EAAAA,IAAC,KAAA,CAAG,UAAU,sBAAsB,SAAA,wCAAqC,EACxEC,EAAW,IAAIH,GAAA,YAAAA,EAAM,MAAO,CAACI,EAAWC,IACvCH,EAAAA,IAAC,MAAA,CAA4B,UAAU,wBACpC,UAAAE,GAAA,YAAAA,EAAM,OAAQ,iBADPA,GAAA,YAAAA,EAAM,KAAMC,CAEtB,CACD,EAEAF,EAAW,OAAOH,GAAA,YAAAA,EAAM,KAAK,IAAM,GAClCE,MAAC,MAAA,CAAI,UAAU,wBAAwB,SAAA,qBAAA,CAAmB,CAAA,EAE9D,EAKEI,EAAoB,IAKtBJ,EAAAA,IAAC,MAAA,CACE,SAAA,KAAQ,oBAAoB,IAAKE,GAChCF,EAAAA,IAAC,MAAA,CAAmB,SAAAE,EAAK,IAAA,EAAfA,EAAK,EAAe,CAC/B,EACH,EAIJ,SAAwBG,GAAY,CAClC,KAAM,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAS,EAAK,EAC1C,CAACC,EAAUC,CAAW,EAAIF,EAAAA,SAAc,IAAI,EAE5CG,EAAmB,IAAM,CAC7BD,EAAY,CACV,MAAO,CACL,CAAE,GAAI,EAAG,KAAM,WAAA,EACf,CAAE,GAAI,EAAG,KAAM,WAAA,EACf,CAAE,GAAI,EAAG,KAAM,WAAA,CAAY,CAC7B,CACD,CACH,EAEME,EAAkB,IAAM,CAC5BF,EAAY,CAAA,CAEX,CACH,EAEMG,EAAmB,IAAM,CAC7BH,EAAY,IAAI,CAClB,EAEA,aACG,MAAA,CAAI,UAAU,uCACb,SAAAX,EAAAA,KAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wCAAwC,SAAA,mCAEtD,EAEAD,EAAAA,KAAC,MAAA,CAAI,UAAU,wCAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wCAAwC,SAAA,uBAAoB,EAE1ED,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,MAACc,EAAA,CAAO,QAASH,EAAkB,UAAU,kCAAkC,SAAA,YAE/E,QACCG,EAAA,CAAO,QAASF,EAAiB,UAAU,oCAAoC,SAAA,gBAEhF,QACCE,EAAA,CAAO,QAASD,EAAkB,UAAU,8BAA8B,SAAA,WAAA,CAE3E,CAAA,EACF,EAEAb,EAAAA,IAACH,EAAA,CAAa,KAAMY,CAAA,CAAU,EAE9BV,EAAAA,KAAC,MAAA,CAAI,UAAU,gDACb,SAAA,CAAAC,EAAAA,IAAC,UAAO,SAAA,eAAA,CAAa,QACpB,KAAA,EAAG,EAAE,0CACL,KAAA,EAAG,EAAE,qDACL,KAAA,EAAG,EAAE,iDACL,KAAA,EAAG,EAAE,oDAAA,CAAA,CACR,CAAA,EACF,EAGAD,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wCAAwC,SAAA,iBAAc,EAEpEA,EAAAA,IAACc,EAAA,CACC,QAAS,IAAMP,EAAa,CAACD,CAAS,EACtC,UAAU,8BAET,WAAY,kBAAoB,qBAAA,CAAA,EAGnCN,EAAAA,IAACe,EAAA,CACC,SAAU,CAACC,EAAOC,IAChBlB,EAAAA,KAAC,MAAA,CAAI,UAAU,qDACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,kCAAkC,SAAA,mBAAgB,EAChEA,EAAAA,IAAC,MAAA,CAAI,UAAU,4BACZ,WAAM,QACT,QACCc,EAAA,CAAO,QAASG,EAAO,UAAU,gCAAgC,SAAA,OAAA,CAElE,CAAA,EACF,EAGD,SAAAX,QACEF,EAAA,CAAA,CAAkB,QAElB,MAAA,CAAI,UAAU,wEAAwE,SAAA,8BAAA,CAEvF,CAAA,CAAA,EAIJL,EAAAA,KAAC,MAAA,CAAI,UAAU,gDACb,SAAA,CAAAC,EAAAA,IAAC,UAAO,SAAA,0BAAA,CAAwB,QAC/B,KAAA,EAAG,EAAE,sDACL,KAAA,EAAG,EAAE,4CACL,KAAA,EAAG,EAAE,uCACL,KAAA,EAAG,EAAE,oCACL,KAAA,EAAG,EAAE,kCAAA,CAAA,CACR,CAAA,CAAA,CACF,CAAA,EACF,EAEAD,EAAAA,KAAC,MAAA,CAAI,UAAU,4DACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,mCAAmC,SAAA,yBAAsB,EACvED,EAAAA,KAAC,MAAA,CAAI,UAAU,wBACb,SAAA,CAAAA,OAAC,IAAA,CAAE,SAAA,CAAAC,EAAAA,IAAC,UAAO,SAAA,aAAA,CAAW,EAAS,6EAAA,EAA2E,SACzG,IAAA,CAAE,SAAA,CAAAA,EAAAA,IAAC,UAAO,SAAA,YAAA,CAAU,EAAS,2FAAA,CAAA,CAAyF,CAAA,CAAA,CACzH,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}