# Skip hooks when explicitly requested, on CI, or with skip flag
if [ -n "$SKIP_HUSKY" ] || [ -n "$CI" ] || [ -n "$SKIP_LINT" ]; then
  echo "Husky pre-commit skipped"; exit 0
fi

# Lint only source files - make it non-blocking
if command -v pnpm >/dev/null 2>&1; then
  echo "🔍 Running ESLint on source files (non-blocking)..."
  pnpm lint || echo "⚠️ Lint issues found. Run 'pnpm lint' to fix or use SKIP_LINT=1 git commit to skip."
  echo "✅ Pre-commit checks completed"
fi